# カード情報、グラフと統計

<!-- toc -->

## カード情報

カードの情報を表示するには、カードのメニューから「情報」を選択するか、カードを右クリックして**情報**を選択するか、復習画面で<kbd>I</kbd>キーを押します。

![カード情報](media/card_info.png)

いくつかの注意点：

**位置**\
他の新しいカードに対してカードが表示される順序を示します。位置はブラウザで変更できます。一度カードが学習されると、カードが手動で新しい状態にリセットされない限り、位置は使用されません。

**間隔**\
次の復習までの遅延時間。時間は省略されて表示されます。「0s, 1m, 3h, 4d, 5mo, 6y」はそれぞれ秒、分、時間、日、月、年を指します。

**イーズ**\
復習カードに「良い」ボタンで回答したときに、間隔がどの程度伸びるかの概算値です。

下部のセクションには、カードの復習履歴が表示されます。評価はボタンを示します（1 = 再学習、4 = 簡単）。カードが「リセット」または「期限設定」アクションを使用して手動で再スケジュールされた場合、タイプは手動として表示され、評価は0になります。

## 統計

統計ウィンドウは、メインウィンドウの上部にある**統計**ボタンをクリックするか、<kbd>T</kbd>キーを押すことでアクセスできます。

![統計画面](media/Statistics.png)

## デッキ / コレクションの選択

### デッキ

デフォルトでは、統計ウィンドウは現在選択されているデッキとそのサブデッキの統計を表示しますが、画面上部のテキストボックスにデッキ名を入力するか（Anki 2.1.61以降）、下部のデッキセレクターを使用して、コレクション内の任意のデッキを選択できます。

### コレクション

このチェックボックスを選択すると、コレクション全体の統計が表示されます。また、検索ボックスにフィルターを追加することで、任意の検索結果に対してグラフを表示することもできます（2.1.28+）。

### 履歴

デフォルトでは、Anki 2.1.28+は過去12ヶ月の統計を表示します。これを全履歴スコープまたはデッキのライフスコープに変更することができます（「今日」のセクションはこの選択に影響されません）。

古いバージョンのAnkiでは、デフォルトで前月の統計が表示されます。これを1年スコープまたはデッキのライフスコープに変更することができます（「今日」のセクションはこの選択に影響されません）。

### その他

- 下部の「PDFを保存」をクリックすると、統計情報のPDFドキュメントがデスクトップに保存され、他の人と統計情報を簡単に共有できます。

- ノートを削除すると、その復習履歴はAnkiに保持されます。特定のデッキの統計を見るときには含まれません（削除されたカードがどのデッキに属していたかをAnkiが知る方法がないため）が、コレクション全体の統計を見るときには含まれます。

- Anki 2.1.28+では、グラフが再設計されました。古いグラフは、<kbd>Shift</kbd>キーを押しながら統計ボタンをクリックすることで引き続きアクセスできます。

## 今日

統計ウィンドウの上部には、今日完了した復習に関する簡単なテキスト統計のリストがあります。この文脈での「復習」は「カードの1回の回答」を意味するため、カードが複数回表示される必要があった場合、それは複数の復習としてカウントされます。また、学習カードの回答も「復習」としてカウントされます。意味がすぐにはわからないかもしれない統計のいくつかを以下に示します：

**再学習回数**\
これは、失敗した復習の回数（つまり、「再学習」を押した回数）です。その後に表示される正解率は、失敗しなかったカードの数を学習したカードの総数で割ったものです。

**学習、復習、再学習、フィルターデッキ**\
学習カード、復習カード、再学習カード、または期限が来ていないフィルターデッキで学習した復習の数です。

現在の日の統計は、学習の進捗状況を全体的に示す良い指標ではありません。誰にでも悪い日や良い日があり、特定の日に正解率が低かったとしても、それを気にする必要はありません。残りの統計は、より長い期間を考慮に入れているため、学習習慣やスケジュール設定をパフォーマンスに基づいて変更したい場合に、より有用な情報を提供します。

「今日」の統計は、ウィンドウの下部で選択された期間には影響されません。

## グラフ

**将来の予定**\
このグラフは、新しいカードを学習せず、カードに失敗しなかった場合に、将来の特定の日に予定されている復習の推定数を示します。バーと左軸は、毎日すべてのカードを学習した場合に各日に予定されているカードの数を示し、線と右軸は、その日まで全く学習しなかった場合にその日に予定されているカードの数を示します。予測グラフには現在期限切れの復習はカウントされないため、大量の未処理カードがある場合、それらのカードは表示されません。

**カレンダー**\
このグラフは過去のカード復習活動を示します。特定の日にマウスをホバーすると、その日に行った復習の数を表示できます。曜日をクリックすると、その曜日を週の開始日に設定できます。

**復習**\
このグラフは、行ったカード復習の数をカウントします。バーは、画面下部で選択した期間に応じて、日、週、または月に対応します。異なる色のブロックは、各日に回答したカードが[成熟カード](getting-started.md#カードの種類)、若いカード、再学習カード、または学習カードのどれであったかを示します。また、期限が来ていないフィルターデッキ/詰め込みデッキで回答したカードのための別のグループもあります。線と右軸は、時間が経過するにつれて各タイプの復習の累積合計を示します（したがって、0日目では、グラフに表示されている全期間の数を表示します）。

**カード数**\
この円グラフは、デッキまたはコレクションの中で成熟カード、未見カード、若い/学習カード、および一時停止カードが占める割合を示します。より正確な割合を計算したい場合は、キーに各セクションの正確なカード数が表示され、総カード数が横に表示されます。

**復習時間**\
このグラフは復習数と同じように機能しますが、回答したカードの数ではなく、各カードに費やした時間を扱います。

**復習間隔**\
このグラフは、特定の間隔（2つの復習間の遅延）を持つカードの数を表示します。線と右軸は、そのポイント以下の間隔を持つカードの割合を示します。このグラフでは、他のグラフとは異なる時間範囲の効果があります：表示される間隔の範囲を制限するため、1年のグラフでは14ヶ月の間隔は表示されません。

**カードのイーズ**\
このグラフは、特定のイーズファクターを持つカードの数を示します。選択したデッキ/コレクションの平均イーズもここに表示されます。

**時間別の内訳**\
このグラフは、特定の時間帯に合格した（つまり、「再学習」を押さなかった）復習の割合を示します。大きくて濃いバーと左軸は成功率を示し、細くて薄いバーと右軸はその時間帯に行った復習の数を示します（結果の重要性を把握するため）。

**回答ボタン**\
このグラフは、学習/新規カード、若いカード、および[成熟カード](getting-started.md#カードの種類)に対して、「再学習」、「難しい」、「良い」、または「簡単」ボタンを選択した回数を示します。Ankiはまた、各タイプのカードに対する正解率も表示します。

## 手動分析

Ankiが提供する以外の統計情報を取得したい場合、データに直接アクセスすることが可能です。ただし、複雑さが伴うため、これに関するサポートは提供できません。

一つの方法は、[アドオンを書く](addons.md)ことで、統計ウィンドウに別のグラフや詳細を追加することです。この種のアドオンはすでにAnkiWebにいくつかあり、それらを参考にして仕組みを理解することができます。

より強力で複雑な方法として、Ankiのデータベースから直接復習のログ情報を抽出し、外部プログラムで分析することが挙げられます。AnkiはSQLiteというデータベース形式を使用しています。SQLiteデータベースを扱うためのツールは多数ありますが、最初に試すのに最も簡単なものの一つは[SQLite Browser](http://sqlitebrowser.org/)です。これを使うと、データベースを閲覧したり、テーブルのCSVバージョンをエクスポートして他のプログラムにインポートすることができます。

統計にとって最も重要なテーブルは「revlog」テーブルで、ここには各復習のエントリが保存されます。カラムは以下の通りです：

**id**\
復習が行われた時間を、1970年1月1日午前0時（UTC）からの経過ミリ秒数で示します。（これは「Unixエポックタイム」として知られることがありますが、特に秒単位の場合にそう呼ばれます。）

**cid**\
復習されたカードのIDです。この値を「cards」テーブルのidフィールドで調べると、カードに関する詳細情報を得ることができます。ただし、revlogエントリが記録された時点と調べている時点でカードが変更されている可能性があることに注意してください。また、これはカードの作成時間のミリ秒単位のタイムスタンプでもあります。

**usn**\
このカラムは復習の同期状態を追跡するために使用され、分析には役立ちません。

**ease**\
復習の最後に押したボタン（1は「再学習」、4は「簡単」）。

**ivl**\
復習後にカードが設定された新しい間隔。正の値は日数、負の値は秒数（学習カードの場合）です。

**lastIvl**\
復習前のカードの間隔。初めて導入されたカードは、再学習の遅延と同じ間隔を持ちます。

**factor**\
カードの新しいイーズファクターをパーミル（千分率）で示します。イーズファクターが2500の場合、次に「良い」を押すとカードの間隔は2.5倍になります。

**time**\
質問と回答の両方の側面に費やした時間（ミリ秒単位）を示します。

**type**\
これは学習カードの場合は0、復習カードの場合は1、再学習カードの場合は2、早期「詰め込み」カード（期限が来ていないフィルターデッキで学習されているカード）の場合は3です。
