# チェックとエラー

<!-- toc -->

ノートタイプを保存したりデッキをエクスポートしたりすると、Anki 2.1.45+ は
一般的なエラーをチェックします。これらのエラーは、影響を受けたカードを誰かが学習する際に
問題を引き起こすため、Anki はそれらを修正するまで先に進むことを許しません。

## 基本

さらに読み進める前に、[重要な概念](../getting-started.md#重要な概念) をご覧ください。

以下のエラーのほとんどは、ノートタイプ/カードテンプレートを修正する必要があります。修正するには：

- ブラウズ画面を開き、左側の項目を確認します。
- エラーメッセージに記載されているノートタイプを見つけます。必要に応じて左上の検索バーを使用できます。
- ノートタイプをクリックして、右側にそのカード/ノートを表示します。
- 編集エリアの上部にある「カード...」ボタンをクリックして、[テンプレート画面](./intro.md#テンプレート画面) を開きます。

## 特定の問題

### テンプレート構文エラー

この種のエラーは、[フィールド置換](./fields.md) 構文の誤った使用を示しています。報告されたノートとカードタイプについては、[テンプレート画面](./intro.md#テンプレート画面) を参照し、プレビューエリアで詳細を確認してください。テンプレートの問題に関する[詳細情報](https://shigeyukey.github.io/Anki-faqs-jp/card-template-has-a-problem.html)も利用可能です。

### 同一の表面

Anki が各入力に対して同一の質問を2つ作成するように設定されています。これは、新しいカードタイプを追加しても何も調整しなかった場合に発生することがあります。同一のカードは作業量を倍増させ、Anki のスケジューリングを効果的でなくします。

これを修正するには、[テンプレート画面](./intro.md#テンプレート画面) を開き、上部で重複しているものの1つを選択します。次に、右上のボタンを使用して選択したカードタイプを削除します。これにより、そのカードタイプを使用していたすべての重複カード/ノートが削除されます。

### 表面にフィールド置換がない

カードタイプの表テンプレートに[フィールド置換](./fields.md)を使用しない場合、そのノートに関係なく、作成されたすべてのカードは質問側で同じように見えます。そのため、どの答えが期待されているのかわからず、カードに答えることができなくなります。

この問題を解決するには、[テンプレート画面](./intro.md#テンプレート画面)を開き、「フィールド追加」ボタンをクリックして、表面に1つ以上のフィールドを追加します。

### Cloze ノートタイプ外の Cloze フィルター

[穴埋め問題](../editing.md#穴埋め問題)フィルター（`{{cloze:Some Field}}`のように）は、クロズノートタイプおよびそれをクローンして作成されたノートタイプでのみ使用できます。

このエラーが発生した場合、テンプレートからクロズフィルターを削除できます。

クロズ削除を使用しているノートがそのノートタイプを使用している場合、ブラウズ画面でそれらを選択し、「ノートタイプの変更」アクションを使用して標準のクロズノートタイプに割り当てることができます。

古いバージョンのAnkiでは、通常のノートタイプでクロズ削除を使用しようとした場合にエラーが発生しませんでしたが、これはサポートされることを意図した使用ケースではありませんでした。クロズ削除と通常のカードを組み合わせたい場合は、Closetアドオンのようなアドオンがいくつかの代替手段を提供するかもしれません。

### クロズノートタイプにクロズフィルターがない

クロズノートタイプの表面および裏面のテンプレートには、[穴埋め問題](../editing.md#穴埋め問題)フィルターが必要です。フィルターが欠けている場合、Ankiがクロズカードを正しく作成できるように、それを追加する必要があります。
