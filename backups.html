<!DOCTYPE HTML>
<html lang="ja" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>バックアップ - Ankiマニュアル</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="css/misc.css">
        <link rel="stylesheet" href="css/kbd.css">


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Ankiマニュアル</h1>

                    <div class="right-buttons">
                        <a href="https://forms.gle/jbnPepH378mVb2Sz5" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-envelope"></i>
                        </a>
                        <a href="https://github.com/shigeyukey/anki-manual-jp/edit/main/src/backups.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="バックアップ"><a class="header" href="#バックアップ">バックアップ</a></h1>
<!-- toc -->
<h2 id="自動バックアップ"><a class="header" href="#自動バックアップ">自動バックアップ</a></h2>
<p>Ankiは、カードデータの自動バックアップを作成します。これには、カードのテキストとスケジュール情報が含まれますが、音声や画像ファイルは含まれません。</p>
<p>自動バックアップは、ミスからの回復に役立つ場合がありますが、それだけに頼るべきではありません。デバイスが壊れたり盗まれたりした場合には保護されません。<a href="#%E6%89%8B%E5%8B%95colpkg%E3%83%90%E3%83%83%E3%82%AF%E3%82%A2%E3%83%83%E3%83%97">手動バックアップ</a>と組み合わせることをおすすめします。</p>
<h3 id="復元"><a class="header" href="#復元">復元</a></h3>
<p>自動バックアップから復元するには：</p>
<ul>
<li>Ankiを開き、ファイルメニューから「プロファイルを切り替る」を選択します。</li>
<li>「バックアップを開く」ボタンをクリックします。</li>
<li>復元したいバックアップを選択します。</li>
</ul>
<p>バックアップから復元すると、バックアップが作成された時点からの変更は失われます。</p>
<p>バックアップから復元すると、Ankiは自動同期とバックアップを無効にします。正しいバックアップを復元したことを確認したら、通常の状態に戻すためにAnkiを閉じて再度開いてください。</p>
<h3 id="anki-2150"><a class="header" href="#anki-2150">Anki 2.1.50+</a></h3>
<p>バックアップは定期的に作成されます。バックアップ間の時間を<a href="preferences.html">設定</a>で調整することができます。デフォルトは30分です。</p>
<p>特定の操作をすると、設定された時間が経過していなくてもバックアップを作成します：</p>
<ul>
<li>一方向に強制同期でダウンロードしたとき</li>
<li>.colpkgファイルのインポート（ファイル➔インポートを使用）</li>
<li>ツール➔データベースのチェック</li>
</ul>
<p>バックアップが2日以上経過すると、Ankiは古いバックアップの一部を削除し始めます。毎日、週ごと、月ごとに保持するバックアップの数を制御することができます。</p>
<p>2.1.50で作成されたバックアップは、古いAnkiバージョンにインポートすることはできません。</p>
<h3 id="古いankiバージョン"><a class="header" href="#古いankiバージョン">古いAnkiバージョン</a></h3>
<p>コレクションが閉じられるたびに（Ankiを閉じる、プロファイルを切り替える、フル同期のダウンロードを行うなど）、Ankiはバックアップを作成します。デフォルトでは最大30個のバックアップを保存します。これは<a href="preferences.html">設定</a>で調整することができます。</p>
<h2 id="手動colpkgバックアップ"><a class="header" href="#手動colpkgバックアップ">手動colpkgバックアップ</a></h2>
<h3 id="復元-1"><a class="header" href="#復元-1">復元</a></h3>
<p>手動バックアップから復元するには、ファイルメニューの「インポート」を使用します。</p>
<h3 id="作成"><a class="header" href="#作成">作成</a></h3>
<p>Anki 2.1.50以降では、ファイルメニューの「バックアップの作成」を使用すると､すぐにバックアップを作成することができます。これは通常の自動バックアップと同じで、メディアファイルは含まれません。</p>
<p>サウンドや画像を含むバックアップを作成するには：</p>
<ul>
<li>ファイルメニューからエクスポートを選択します。</li>
<li>「Ankiコレクションパッケージ（.colpkg）」が選択されていることを確認します。</li>
<li>「メディアを含める」オプションを有効にします。</li>
</ul>
<p>これにより、カードとそれに使用されるサウンド/画像が含まれる.colpkgファイルが作成されます。ファイルを別のデバイスやDropboxやGoogle Driveなどのクラウドベースのファイルストレージサービスに安全に保存することをおすすめします。</p>
<h2 id="ankiweb"><a class="header" href="#ankiweb">AnkiWeb</a></h2>
<p>AnkiWebとのコレクションの同期により、デバイスの紛失や盗難に対する一定の保護が提供されます。AnkiWebからコレクションを復元する必要がある場合は、設定画面で一方向の強制同期を強制するか、新しいデバイスから同期してから「ダウンロード」を選択します。</p>
<ul>
<li>[ 強制同期 ] ツール ➔ 設定 ➔ ネットワーク ➔ 次回の同期は一方向に変更を強制実行する</li>
</ul>
<h2 id="削除ログ"><a class="header" href="#削除ログ">削除ログ</a></h2>
<p>Ankiは、削除されたノートをdeleted.txtというテキストファイルにログを保存します。これらのノートは｢ファイル ➔ インポート｣で読み込むことができますが、インポート機能は一度に1つのノートタイプしかサポートしていないため、異なるノートタイプから削除されたノートがある場合は、ファイルを別々のファイルに分割する必要があります。</p>
<!--

## Automatic backups

Anki will create automatic backups of your card data. These include the text
on your cards and your scheduling information, but do not include sounds or
image files.

Automatic backups can be useful to recover from mistakes, but you should not
rely solely on them. Because they are stored on your local device, they will not
protect you if your device breaks or is stolen. We recommend you combine them with
[manual backups](#manual-colpkg-backups).

### Restoring

To restore from an automatic backup:

- Open Anki, and choose Switch Profile from the File menu.
- Click on the "Open Backup" button.
- Select the backup you wish to restore from.

When restoring from a backup, any changes made since the backup was created will be lost.

Anki disables automatic syncing and backups when you restore from a backup. Once you're
happy that you've restored the correct backup, close and re-open Anki to return to normal.

### Anki 2.1.50+

Backups are created periodically. You can configure the time between backups
in the [preferences](preferences.md) screen. The default is 30 minutes.

Certain operations will trigger a backup, even if the configured time has not
elapsed yet:

- A one-way sync download
- Importing a .colpkg file using File>Import
- Tools>Check Database

After backups are two days old, Anki will start removing some of the older ones.
You can control how many daily, weekly and monthly backups you'd like to keep.

Backups created with 2.1.50 will not be importable into older Anki versions.

### Older Anki versions

Each time your collection is closed (when closing Anki, switching
profiles, or doing a full sync download), Anki creates a backup. By default
it will store up to 30 backups; you can adjust this in the [preferences](preferences.md).

## Manual colpkg backups

### Restoring

You can restore from a manual backup by using File>Import.

### Creating

In Anki 2.1.50+, you can use File>Create Backup to trigger an immediate backup. This
functions like regular automatic backups, and does not include media files.

To create a backup that includes your sounds and images:

- Select Export from the File menu.
- Ensure "Anki collection package (.colpkg)" is selected.
- Enable the "include media" option.

This will create a .colpkg file that contains all of your cards and any sounds/images they
use. We recommend you store the file somewhere safe, like a different device, or a cloud-based
file storage service like Dropbox or Google Drive.

## AnkiWeb

[Synchronising](./syncing.md) your collection with AnkiWeb provides some level of protection
against your device being lost or stolen. If you need to restore your collection from AnkiWeb,
you can force a one-way sync in the preferences screen, or sync from a new device, and then choose
"Download".

## Deletion log

Anki logs deleted notes to a text file called deleted.txt in your
profile folder. These notes are in a text format that can be read by
File&gt;Import, though please note the import feature only supports a
single note type at one time, so if you have deleted notes from
different note types, you'll need to split the file into separate files
for each note type first.
-->
                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="exporting.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="files.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="exporting.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="files.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->
        <script src="assets/fzf.umd.js"></script>
        <script src="assets/elasticlunr.js"></script>


    </div>
    </body>
</html>
